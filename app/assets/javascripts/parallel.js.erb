//Place all the behaviors and hooks related to the matching controller here.
// All this logic will automatically be available in application.js.
// You can use CoffeeScript in this file: http://coffeescript.org/
var base_url_regions = "/assets/";
var width = 960,
    height = 500;
$(document).ready(function() {
	stats = Array();
	stats['boroughs'] = gon.feature_groups['boroughs'];

	test_boro = stats['boroughs'][1]

	console.log(stats);
	console.log(test_boro);
	if(gon.parallel)
		setup_parallel_graph(stats);
	
})

function plot_parallel_data(stats)
{
	var svg = d3.select('#map').select('g');

}

function setup_parallel_graph(obj)
{
	var boroughs = [];

    traits = ["sepal length", "petal length", "sepal width", "petal width"];

	//Define pixel widths across graph space
	var m = [80, 160, 200, 160],
	    w = 960 - m[1] - m[3],
	    h = 500 - m[0] - m[2];

	//Define x scale
	var x = d3.scale.ordinal().domain(traits).rangePoints([0, w]),
	    y = {};

	var line = d3.svg.line(),
	    axis = d3.svg.axis().orient("left"),
	    foreground;

	var svg = d3.select("body").append("svg:svg")
	    .attr("width", w + m[1] + m[3])
	    .attr("height", h + m[0] + m[2])
	  .append("svg:g")
    .attr("transform", "translate(" + m[3] + "," + m[0] + ")");
}
//Resizes the map after a short delay.
window.onresize = function()
{
 setTimeout( 
  	function() { 
      	$('.street_map .map-container').css('height', $(window).height() * 0.8);

  	}, 
    200);
}

